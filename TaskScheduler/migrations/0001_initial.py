# Generated by Django 5.0.7 on 2024-07-11 21:40

import django.db.models.deletion
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        ('WorkerManager', '0001_initial'),
    ]

    operations = [
        migrations.CreateModel(
            name='RenderTask',
            fields=[
                ('TaskID_Int', models.PositiveSmallIntegerField(primary_key=True, serialize=False)),
                ('TaskID', models.CharField(max_length=21, unique=True)),
                ('FileServerAddress', models.URLField()),
                ('FileServerPort', models.PositiveIntegerField()),
                ('DataType', models.CharField(choices=[('SINGL', 'SingleFile'), ('MULTI', 'MultiFile')], max_length=5)),
                ('OutputType', models.PositiveSmallIntegerField(choices=[(0, 'Targa'), (1, 'Iris'), (7, 'Iriz'), (14, 'Rawtga'), (15, 'Aviraw'), (16, 'Avijpeg'), (17, 'Png'), (20, 'Bmp'), (21, 'Radhdr'), (22, 'Tiff'), (23, 'Openexr'), (24, 'Ffmpeg'), (26, 'Cineon'), (27, 'Dpx'), (28, 'Multilayer'), (29, 'Dds'), (30, 'Jp2'), (31, 'H264'), (32, 'Xvid'), (33, 'Theora'), (34, 'Psd'), (35, 'Webp'), (36, 'Av1'), (255, 'Invalid')], null=True)),
                ('StartFrame', models.PositiveIntegerField(null=True)),
                ('EndFrame', models.PositiveIntegerField(null=True)),
                ('FrameStep', models.PositiveIntegerField(null=True)),
                ('Stage', models.CharField(choices=[('UPL', 'Uploading'), ('PEN', 'Pending'), ('DIS', 'Distributing'), ('REN', 'Rendering'), ('CON', 'Concatenating'), ('FIN', 'Finished'), ('EXP', 'Expired')], max_length=3)),
            ],
        ),
        migrations.CreateModel(
            name='Subtask',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('StartFrame', models.PositiveIntegerField()),
                ('EndFrame', models.PositiveIntegerField()),
                ('LastestFrame', models.PositiveIntegerField()),
                ('Portion', models.FloatField()),
                ('Task', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='Subtasks', to='TaskScheduler.rendertask')),
                ('Worker', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='WorkerManager.worker')),
            ],
        ),
    ]
